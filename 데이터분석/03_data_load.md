```markdown
# ğŸ¯ ì˜¤ëŠ˜ í•™ìŠµí•œ í•µì‹¬ ë‚´ìš© TIL

# ğŸ“‚ íŒŒì¼ ë¡œë“œ ë° ì €ì¥ (CSV)

### í…ìŠ¤íŠ¸ ì¸ì½”ë”© ì£¼ì˜
- EUC-KR, UTF-8 ë“± ì¸ì½”ë”©ì„ ì§€ì •í•˜ì§€ ì•Šìœ¼ë©´ í•œê¸€ ê¹¨ì§ ê°€ëŠ¥ì„± ìˆìŒ.

---

## íŒŒì¼ ì§ì ‘ ì—´ê¸°
```
with open('./namsan.csv', encoding='EUC-KR') as f:
    print(f.readline())
```

---

## pandasë¡œ ë¶ˆëŸ¬ì˜¤ê¸°
```
import pandas as pd

df = pd.read_csv('./namsan.csv', encoding='EUC-KR', dtype={'ISBN': str, 'ì„¸íŠ¸ ISBN': str})
```

---

## ì €ì¥
```
df.to_csv('./test.csv', encoding='utf-8', index=False)
```

---

# â“ ê²°ì¸¡ì¹˜ ì²˜ë¦¬

## âœ… í™•ì¸
```
df.isna()            # True/False í™•ì¸
df.isna().sum()      # ì»¬ëŸ¼ë³„ ê²°ì¸¡ì¹˜ ê°œìˆ˜
df.isna().mean() * 100  # ì»¬ëŸ¼ë³„ ê²°ì¸¡ì¹˜ ë¹„ìœ¨(%)
```

## âœ… ë§ˆìŠ¤í‚¹
```
mask_has_na = df.isna().any(axis=1)  # ê²°ì¸¡ì¹˜ê°€ ìˆëŠ” í–‰ ë§ˆìŠ¤í¬
mask_no_na = df.notna().all(axis=1)  # ê²°ì¸¡ì¹˜ê°€ ì—†ëŠ” í–‰ ë§ˆìŠ¤í¬

df[mask_has_na]   # ê²°ì¸¡ì¹˜ ìˆëŠ” í–‰ë§Œ ì¶”ì¶œ
df[mask_no_na]    # ê²°ì¸¡ì¹˜ ì—†ëŠ” í–‰ë§Œ ì¶”ì¶œ
```

## âœ… ì‹œê°í™”
```
import seaborn as sns
import matplotlib.pyplot as plt

sns.heatmap(df.isna(), cmap='viridis', cbar=False)
plt.show()

df.isna().sum().plot(kind='bar')
plt.show()
```

## âœ… ê²°ì¸¡ì¹˜ ì‚­ì œ
```
df.dropna()                        # ê²°ì¸¡ì¹˜ ìˆëŠ” ëª¨ë“  í–‰ ì‚­ì œ
df.dropna(subset=['ì´ë¦„', 'ì„±ë³„'])   # íŠ¹ì • ì—´ ê¸°ì¤€ ê²°ì¸¡ì¹˜ í–‰ ì‚­ì œ
df.dropna(axis=1)                  # ê²°ì¸¡ì¹˜ ìˆëŠ” ì—´ ì‚­ì œ
```

## âœ… ê²°ì¸¡ì¹˜ ì±„ìš°ê¸°
```
df.fillna(0)  # ëª¨ë“  ê²°ì¸¡ì¹˜ 0ìœ¼ë¡œ ì±„ìš°ê¸°

# ì»¬ëŸ¼ë³„ë¡œ ë‹¤ë¥¸ ê°’ìœ¼ë¡œ ì±„ìš°ê¸°
df.fillna({'ì´ë¦„': 'ìµëª…', 'ê¸‰ì—¬': df['ê¸‰ì—¬'].mean()})

# ì•/ë’¤ í–‰ ê°’ìœ¼ë¡œ ì±„ìš°ê¸°
df.ffill()  # forward fill
df.bfill()  # backward fill
```

## âœ… ë³´ê°„ë²• (interpolation)
```
df.interpolate(method='linear')  # ì„ í˜• ë³´ê°„ (ì‹œê°„ ë¬´ì‹œ)
df.interpolate(method='time')    # ì‹œê°„ ë³´ê°„ (ì¸ë±ìŠ¤ê°€ datetimeì´ì–´ì•¼ í•¨)
```

---

# ğŸ”  ë¬¸ìì—´ ì²˜ë¦¬ & íƒ€ì… ë³€í™˜

## âœ… ë¬¸ìì—´ ë©”ì„œë“œ
```
df['ì´ë©”ì¼'].str.upper()                         # ëŒ€ë¬¸ì ë³€í™˜
df['ì´ë©”ì¼'].str.contains('gmail')               # íŠ¹ì • ë¬¸ìì—´ í¬í•¨ ì—¬ë¶€
df['ì „í™”ë²ˆí˜¸'].str.replace('-', '').str.replace(' ', '')  # íŠ¹ìˆ˜ë¬¸ì ë° ê³µë°± ì œê±°
```

## âœ… ë¬¸ìì—´ ì¶”ì¶œ ë° ë¶„í• 
```
df['ì´ë©”ì¼'].str.extract(r'@([^.]+)')            # ë„ë©”ì¸ë§Œ ì¶”ì¶œ
df['ì´ë©”ì¼'].str.split('@', expand=True)         # ì‚¬ìš©ìëª…, ë„ë©”ì¸ ë¶„ë¦¬í•˜ì—¬ DataFrameìœ¼ë¡œ ë°˜í™˜
```

## âœ… íƒ€ì… ë³€í™˜
```
df['ì •ìˆ˜í˜•'] = df['ì •ìˆ˜í˜•'].astype(int)
df['ì‹¤ìˆ˜í˜•'] = df['ì‹¤ìˆ˜í˜•'].astype(float)
df['ë¶ˆë¦¬ì–¸'] = df['ë¶ˆë¦¬ì–¸'].astype(bool)
df['ë‚ ì§œ'] = pd.to_datetime(df['ë‚ ì§œ'])

# ë³€í™˜ ì‹¤íŒ¨ ì‹œ NaN ì²˜ë¦¬
pd.to_numeric(df['í˜¼í•©í˜•'], errors='coerce')

# ë³€í™˜ ì‹¤íŒ¨ ì‹œ ì›ë˜ ë°ì´í„° ìœ ì§€
pd.to_numeric(df['í˜¼í•©í˜•'], errors='ignore')
```

---

# ğŸ§± ì—´(Column) ì²˜ë¦¬

## âœ… ì—´ ì‚­ì œ
```
df.drop('ë¹„ê³ ', axis=1)                 # ë‹¨ì¼ ì—´ ì‚­ì œ
df.drop(['ë¹„ê³ ', 'ì„ì‹œë°ì´í„°'], axis=1) # ì—¬ëŸ¬ ì—´ ì‚­ì œ
```

## âœ… ì—´ ì´ë¦„ ë³€ê²½
```
df.rename(columns={'êµ­ì–´ì ìˆ˜': 'êµ­ì–´'})  # íŠ¹ì • ì—´ ì´ë¦„ ë³€ê²½
df.columns = ['êµ­ì–´', 'ì˜ì–´', 'ìˆ˜í•™', ... ]  # ì „ì²´ ì—´ ì´ë¦„ ì¼ê´„ ë³€ê²½
```

## âœ… ì—´ ì¶”ê°€
```
df['ì´ì '] = df[['êµ­ì–´', 'ì˜ì–´', 'ìˆ˜í•™']].sum(axis=1)
df['ì„±ì ë“±ê¸‰'] = pd.cut(df['í‰ê· '], bins=[0, 70, 80,=['D', 'C', 'B', 'A'])
```

---

# ğŸ“Š í–‰(Row) ì²˜ë¦¬

## âœ… í–‰ ì‚­ì œ
```
df.drop(0)             # ì¸ë±ìŠ¤ê°€ 0ì¸ í–‰ ì‚­ì œ
df.drop([0,   # ì—¬ëŸ¬ í–‰ ì‚­ì œ
df.dropna()            # ê²°ì¸¡ì¹˜ ìˆëŠ” í–‰ ì‚­ì œ
df.drop_duplicates()   # ì¤‘ë³µëœ í–‰ ì‚­ì œ
```

## âœ… í–‰ í•„í„°ë§ ë° ì •ë ¬
```
df_filtered = df[df['ë‚˜ì´'] < 30]                 # ì¡°ê±´ì— ë§ëŠ” í–‰ í•„í„°ë§
df_sorted = df.sort_values('ê¸‰ì—¬', ascending=False)  # ê¸‰ì—¬ ë‚´ë¦¼ì°¨ìˆœ ì •ë ¬

df_sorted.reset_index(drop=True)                   # ì¸ë±ìŠ¤ ì¬ì„¤ì • (ê¸°ì¡´ ì¸ë±ìŠ¤ ì‚­ì œ)
```
```