<img src="https://r2cdn.perplexity.ai/pplx-full-logo-primary-dark%402x.png" class="logo" width="120"/>

### 리스트, 셋, 딕셔너리와 뮤터블 객체의 포함 관계

#### 1. 리스트(list)

- **리스트 안에는 어떤 객체든(뮤터블/이뮤터블) 자유롭게 포함할 수 있습니다.**
- 예: 리스트 안에 리스트, 딕셔너리, 셋 등 다양한 뮤터블 객체가 들어갈 수 있습니다.

```python
a = [1, [2, 3], {"x": 5}, {4, 5}]
```


#### 2. 딕셔너리(dictionary)

- **딕셔너리의 값은 어떤 타입이든(뮤터블/이뮤터블) 자유롭게 들어갈 수 있습니다.**
    - 예: 값에 리스트, 딕셔너리, 셋 등 뮤터블 객체 포함 가능
- **딕셔너리의 키는 '해시 가능(immutable)' 객체만 사용**할 수 있습니다.
    - 리스트, 딕셔너리, 셋 등 뮤터블 객체는 키로 쓸 수 없습니다.

```python
d = {
    "a": [1, 2],           # 값에 리스트(뮤터블) 가능
    "b": {"x": 1},         # 값에 딕셔너리(뮤터블) 가능
    # {[3, 4]: "test"}     # 에러: 리스트는 키로 불가능
}
```


#### 3. 셋(set)

- **셋의 원소는 '해시 가능(immutable)' 객체만 저장**할 수 있습니다.
    - 리스트, 셋, 딕셔너리는 원소로 사용할 수 없습니다(비해시성).
    - 튜플(tuple, 이뮤터블), int, str 등은 원소로 가능

```python
s = {1, 2, (3, 4)}   # tuple(이뮤터블)은 가능
# { [1, 2] }         # 에러: 리스트(뮤터블)는 불가
```


#### 정리 표

| 타입 | 내부에 뮤터블 포함 가능 | 키/값/원소 제한 |
| :-- | :-- | :-- |
| 리스트(list) | 가능 | 제한 없음 |
| 딕셔너리(dict) | 값: 가능, 키: 불가 | 키: 이뮤터블만 |
| 셋(set) | 불가 | 이뮤터블만 |

**즉,**

- **리스트와 딕셔너리의 값**에는 얼마든지 뮤터블 객체를 넣을 수 있습니다.
- **딕셔너리의 키, 셋의 원소**에는 오직 이뮤터블(immutable) 객체만 넣을 수 있습니다.
- 이것은 파이썬의 해시(hashing)와 관련된 제약 때문입니다.

> 결론: 중괄호 형태의 셋(set)에서는 뮤터블 객체(리스트, 딕셔너리, 셋 등)를 원소로 가질 수 없고, 딕셔너리는 '값'으로는 뮤터블이 가능하지만, '키'로는 뮤터블이 불가합니다.
> 리스트는 내부에 어떤 뮤터블도 자유롭게 넣을 수 있습니다.

